backbone-core
=============

Что это?
Это рабочее одностраничное приложение. 
Какие у него настройки:
  - в index.html есть тег <script>, который подругжает requirejs и после загрузки запускает файл app/main.js. Если пути до main.js отлчичается от того, что есть, то выставляем нужный путь(без расширения .js)
  - В файле main.js есть директива require(), которая грузит зависимости для конкретного приложения. Обязательные: 	'core', 'app',    	'Router/workspace', 'Views/workspace'. Если создаете, вью, коллекцию или модель, то прописываете в этом месте путь к файлу(расширение .js указывать не надо).
  - app.js основной конструктор веб-приложения. Синглтон, доступный из любой вью/модели (this.core). В этом приложении есть пример, как расширять приложение дополнительными функциями. (всякие глобальные пересчеты, или функции, которые независимы от вью, модели или коллекции, и которые повторяются с завидной частотой лучше выносить сюда)
  - Views/workspace.js - основная вьюха всего приложения. Сначала рендерится она, потом уже все остальное. В методе render() показано, где и как она вставляется. И соответственно она и становится глобальным контейнером для всего веб-приложения.
  - Router/workspace.js - единственный и главный роутер приложения. Заодно является и конструктором бандлов. 
  - Как создаются бандлы. Методом this.core.set()
    // Метод создающий бандл на основе вью и связанной с ней источником данных.
		// Источником данных может быть как модель так и коллекция.
		// На основе переданных параметров меняется поведение функционирования вью заключенной в бандле.
		// При создании бандла источник данных инициализируется сразу и в бандл сохраняется ссылка на
		// его инстанс. В случае передача ссылки на источник данных она просто присвается как собственная.
		//
		// __Параметры:__
		//
		// * `name` - (_string_) Имя создаваемого бандла. Обычно совпадает с именем вью и источника данных
		//
		// * `params` - (_object_) Объект с доп.параметрами
		//
		// __Возможные параметры объекта params:__
		//
		// * `params.model` - (_object_) Ссылка на модели коллекции для ее создания и линкования в бандл
		// в качестве источника данных.
		//
		// * `params.isCollection` - (_bool_) Указывает на то является ли источником данных коллекция. Сокращает
		// запись если вместо модели используется коллекция как источник данных.
		//
		// * `params.multiple` - (_bool_) Указывает на то можем ли мы создать несколько инстансов вью
		// завязанных на один и тот же источников данных.
		//
		// * `params.initData` - (_object/array_) Данные с которыми будет инициализирован источник данных.
		//
		// * `params.initOptions` - (_object_) Набор параметров, которые будут доступны в методе
		// `initialize` вторым аргументом, как в моделе так и в коллекции.
		//
		// * `params.standalone` - (_bool_) Указывает на то удалиться ли вью при вызове метода `Calc.unload()`.
		// Вью в бандле с таким параметром можно будет удалить только вызвав `Calc.unload(<имя бандла>)`.
		//
		// * `params.collection` - (_object_) Ссылка на конструктор коллекции для ее создания и линкования в
		// бандл в качестве источника данных.
		//
		// * `params.dataSource` - (_string_) Имя бандла чьей источник данных будет слинкован как источник
		// данных создаваемого бандла
		//
		// * `params.view` - (_string/object_) Ссылка на конструктор вьюкоторый будет использоваться для
		// создания вью. Так же может передаваться строковое название вью, в таком случае конструктор
		// будет искаться в глобальной коллекции вьюшек
		//
		// * `params.dontAbortOnUload` - (_object_) Указывает на то обрывать ли запросы модели при
		// выгрузке связанных вью или нет.
		//
		// __Пример:__
		//
		// 1. Регистрирование бандла включающего в себя вью с именем `User` и модель с таким же именем
		//
		//         core.set('User');
		//
		// 1. Регистрирование бандла включающего в себя вью с именем `User` и модель c именем `Bandit`
		//
		//         core.set('User', {
		//             model: App.Models.Bandit
		//         });
		//
		// 1. Регистрирование бандла у которого в качестве источника данных используется коллекция имя
		// которой совпадает с именем вью.
		//
		//         core.set('User', {
		//             isCollection: true
		//         });
		//
		// 1. Регистрирование бандла включающего в себя только модель `User` + бандл `Header` который
		// использует источник данных `User` для вывода информации о пользователе
		//
		//         core
		//             .set('User', {
		//                 view: false
		//             })
		//             .set('Header', {
		//                 dataSource: 'User'
		//             });

  Отрисовка бандла происходит методом this.core.render()
  // Метод который отрисовывает вью бандла по его имени передавая в созданный инстанс вью
	// указанные параметры.
	// Если указан параметр `multiple`, то каждый раз будет создаваться новый временный параметр
	// который будет наследоваться от первоначального и иметь имя родителя + рендомное число
	//
	// __Пример:__
	//
	// 1. Отрисока бандла по его имени
	//
	//         core.render('Menu');
	//
	// 1. Отрисовка бандла по его имени с передачей дополнительно параметров
	//
	//         core.render('Menu', {
	//             context: 'agent'
	//         });
	
	
	Отрисовка нескольких бандлов происходит с помощью метода this.core.renderStream()
	// Метод позволяющий передавать массив имен бандлов с параметрами или без к которым при
	// отрисовке будут примен общий набор параметров
	//
	// __Пример:__
	//
	// 1. Отрисока нескольких бандлов с передачей в каждый из них одного и того же набора параметров
	//
	//         core.renderStream(['Menu', 'Content', 'Footer'], {
	//             context: 'agent'
	//         });
	//
	// 1. Отрисока нескольких бандлов с передачей в каждый из них одного и того же набора
	// параметров + дополнительной передачей кастомного набора параметров в один из бандлов
	//
	//         core.renderStream([{
	//             name: 'Menu',
	//             params: {
	//                 params: params,
	//                 value: value
	//             }
	//         }, 'Content', 'Footer'], {
	//             context: 'agent'
	//         });

  Выгрузка бандлов происходит методом this.core.unload().
  
